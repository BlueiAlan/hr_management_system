{"remainingRequest":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\ts-loader\\index.js??ref--14-2!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\setmeal\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\setmeal\\index.vue","mtime":1761794898691},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _category = require(\"@/api/category\");\n\nvar _setMeal = require(\"@/api/setMeal\");\n\nvar _default = {\n  data: function data() {\n    return {\n      name: '',\n      page: 1,\n      pageSize: 10,\n      total: 0,\n      records: [],\n      options: [],\n      categoryId: '',\n      status: '',\n      multipleSelection: '',\n      statusArray: [{\n        value: '1',\n        label: '起售'\n      }, {\n        value: '0',\n        label: '停售'\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    (0, _category.getCategoryByType)({\n      type: 2\n    }).then(function (res) {\n      if (res.data.code === 1) {\n        _this.options = res.data.data;\n      }\n    });\n    this.pageQuery();\n  },\n  methods: {\n    pageQuery: function pageQuery() {\n      var _this2 = this;\n\n      var parmas = {\n        name: this.name,\n        categoryId: this.categoryId,\n        status: this.status,\n        page: this.page,\n        pageSize: this.pageSize\n      };\n      (0, _setMeal.getSetmealPage)(parmas).then(function (res) {\n        if (res.data.code === 1) {\n          _this2.records = res.data.data.records;\n          _this2.total = res.data.data.total;\n        }\n      }).catch(function (err) {\n        _this2.$message.error('请求失败' + err.message);\n      });\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.pageQuery();\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.pageQuery();\n    },\n    handleStartOrStop: function handleStartOrStop(row) {\n      var _this3 = this;\n\n      this.$confirm('是否' + (row.status == '1' ? '停售' : '启售') + '套餐?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var parmas = {\n          id: row.id,\n          status: row.status == '1' ? '0' : '1'\n        };\n        (0, _setMeal.enableOrDisableSetmeal)(parmas).then(function (res) {\n          if (res.data.code === 1) {\n            if (row.status == '1') {\n              _this3.$message.success('套餐停售成功');\n            } else {\n              _this3.$message.success('套餐启售成功');\n            }\n\n            _this3.pageQuery();\n          }\n        }).catch(function (err) {\n          _this3.$message.error('请求失败' + err.message);\n        });\n      }).catch(function () {\n        _this3.$message({\n          type: 'info',\n          message: '已取消操作'\n        });\n      });\n    },\n    // 删除套餐\n    handleDelete: function handleDelete(type, id) {\n      var _this4 = this;\n\n      this.$confirm('是否删除套餐?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        if (type === 'B') {\n          // 遍历获取id，拼成1,2,3\n          var ids = '';\n\n          _this4.multipleSelection.forEach(function (item, index) {\n            if (index === _this4.multipleSelection.length - 1) {\n              ids += item.id;\n            } else {\n              ids += item.id + ',';\n              index++;\n            }\n          });\n\n          id = ids;\n        }\n\n        (0, _setMeal.deleteSetmeal)(id).then(function (res) {\n          if (res.data.code === 1) {\n            _this4.$message.success('套餐删除成功');\n\n            _this4.pageQuery();\n          } else {\n            _this4.$message.error('套餐删除失败' + res.data.msg);\n          }\n        }).catch(function (err) {\n          _this4.$message.error('请求失败' + err.message);\n        });\n      }).catch(function () {\n        _this4.$message({\n          type: 'info',\n          message: '已取消操作'\n        });\n      });\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\setmeal\\index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { getCategoryByType } from '@/api/category';\r\nimport { getSetmealPage,enableOrDisableSetmeal,deleteSetmeal} from '@/api/setMeal';\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '', // 使用双向绑定属性\r\n      page: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      records: [],\r\n      options: [],\r\n      categoryId: '',\r\n      status: '',\r\n      multipleSelection: '',  // 表格选中\r\n      statusArray: [{\r\n          value: '1',\r\n          label: '起售'\r\n        }, {\r\n          value: '0',\r\n          label: '停售'\r\n        }]\r\n    }\r\n  },\r\n\r\n  created(){\r\n    getCategoryByType({type: 2}).then((res:any)=>{\r\n      if(res.data.code === 1){\r\n        this.options = res.data.data\r\n      }\r\n    })\r\n    this.pageQuery()\r\n  },\r\n\r\n  methods: {\r\n    pageQuery(){\r\n      const parmas = {\r\n        name: this.name,\r\n        categoryId: this.categoryId,\r\n        status: this.status,\r\n        page: this.page,\r\n        pageSize: this.pageSize\r\n      }\r\n\r\n      getSetmealPage(parmas).then((res => {\r\n        if(res.data.code === 1){\r\n          this.records = res.data.data.records\r\n          this.total = res.data.data.total\r\n        }\r\n      })).catch(err => {\r\n        this.$message.error('请求失败' + err.message)\r\n      })\r\n      \r\n    },\r\n\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.pageQuery()\r\n    },\r\n    handleCurrentChange(page) {\r\n      this.page = page\r\n      this.pageQuery()\r\n    },\r\n    handleStartOrStop(row){\r\n\r\n      this.$confirm('是否' + (row.status == '1' ? '停售' : '启售') + '套餐?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const parmas = {\r\n            id: row.id,\r\n            status: row.status == '1' ? '0' : '1'\r\n          }\r\n          enableOrDisableSetmeal(parmas).then(res => {\r\n            if(res.data.code === 1){\r\n              if(row.status == '1'){\r\n                this.$message.success('套餐停售成功')\r\n              } else {\r\n                this.$message.success('套餐启售成功')\r\n              }\r\n              this.pageQuery()\r\n            } \r\n          }).catch(err => {\r\n            this.$message.error('请求失败' + err.message)\r\n          })\r\n\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消操作'\r\n          });          \r\n        });\r\n    },\r\n    // 删除套餐\r\n    handleDelete( type: string,id: string ){\r\n      this.$confirm('是否删除套餐?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          if(type === 'B'){\r\n            // 遍历获取id，拼成1,2,3\r\n            let ids = ''\r\n            this.multipleSelection.forEach((item:any,index:number) => {\r\n              if(index === this.multipleSelection.length - 1){\r\n                ids += item.id\r\n              } else {\r\n                ids += item.id + ','\r\n                index++\r\n              }\r\n            });\r\n            id = ids\r\n          }\r\n          \r\n          deleteSetmeal(id).then(res => {\r\n            if(res.data.code === 1){\r\n              this.$message.success('套餐删除成功')\r\n              this.pageQuery()\r\n            } else{\r\n              this.$message.error('套餐删除失败' + res.data.msg)\r\n            }\r\n          }).catch(err => {\r\n              this.$message.error('请求失败' + err.message)\r\n        })\r\n\r\n\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消操作'\r\n          });          \r\n        });\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n  }\r\n}\r\n"],"sourceRoot":""}]}