{"remainingRequest":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\ts-loader\\index.js??ref--14-2!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\employee\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\employee\\index.vue","mtime":1758692795735},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _employee = require(\"@/api/employee\");\n\nvar _default = {\n  // 模型数据\n  data: function data() {\n    return {\n      name: '',\n      page: 1,\n      pageSize: 10,\n      total: 0,\n      records: []\n    };\n  },\n  // 生命周期\n  created: function created() {\n    // 页面加载完成后，发送请求\n    this.pageQuery();\n  },\n  methods: {\n    // 发送Ajax请求，访问后端数据，应该在api下的ts文件中写接口，这里只是调用\n    pageQuery: function pageQuery() {\n      var _this = this;\n\n      // 请求参数\n      var params = {\n        name: this.name,\n        page: this.page,\n        pageSize: this.pageSize\n      };\n      (0, _employee.getEmployeeList)(params).then(function (res) {\n        if (res.data.code === 1) {\n          _this.records = res.data.data.records;\n          _this.total = res.data.data.total;\n        }\n      }).catch(function (err) {\n        _this.$message.error('请求失败' + err.message);\n      });\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.pageQuery();\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.pageQuery();\n    },\n    startOrStop: function startOrStop(row) {\n      var _this2 = this;\n\n      if (row.username === 'admin') {\n        this.$message.error('超级管理员账号不允许操作');\n        return;\n      } // 弹出提示框\n\n\n      this.$confirm('是否确认修改员工状态?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        // 数字1=true，数字0=false\n        var params = {\n          id: row.id,\n          status: !row.status ? 1 : 0 // status: row.status === 1 ? 0 : 1\n\n        };\n        (0, _employee.startOrStopEmployee)(params).then(function (res) {\n          if (res.data.code === 1) {\n            _this2.$message.success('员工状态修改成功');\n\n            _this2.pageQuery();\n          }\n        }).catch(function (err) {\n          _this2.$message.error('请求失败' + err.message);\n        });\n      }).catch(function () {\n        _this2.$message.info('已取消修改');\n      });\n    },\n    // 添加员工\n    handleAddEmp: function handleAddEmp() {\n      // 路由跳转页面\n      this.$router.push('/employee/add');\n    },\n    updateEmp: function updateEmp(row) {\n      if (row.username === 'admin') {\n        this.$message.error('超级管理员账号不允许操作');\n        return;\n      } // 跳转同时传参，通过地址栏传参\n\n\n      this.$router.push({\n        path: '/employee/add',\n        query: {\n          id: row.id\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\employee\\index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n\r\nimport { getEmployeeList, startOrStopEmployee } from '@/api/employee'\r\nexport default  {\r\n\r\n  // 模型数据\r\n  data() {\r\n    return {\r\n      name: '', // 员工姓名,使用双向绑定属性\r\n      page: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      records: []\r\n    }\r\n  },\r\n\r\n\r\n// 生命周期\r\n  created() {\r\n    // 页面加载完成后，发送请求\r\n    this.pageQuery()\r\n  },\r\n  methods: {\r\n    // 发送Ajax请求，访问后端数据，应该在api下的ts文件中写接口，这里只是调用\r\n    pageQuery() {\r\n\r\n      // 请求参数\r\n      const params = {\r\n        name: this.name,\r\n        page: this.page,\r\n        pageSize: this.pageSize\r\n      }\r\n      \r\n      getEmployeeList(params).then((res: any) => {\r\n        if (res.data.code === 1) {\r\n          this.records = res.data.data.records\r\n          this.total = res.data.data.total\r\n        }\r\n      }).catch((err: any) => {\r\n        this.$message.error('请求失败' + err.message)\r\n      })\r\n    },\r\n\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.pageQuery()\r\n    },\r\n\r\n    handleCurrentChange(page) {\r\n      this.page = page\r\n      this.pageQuery()\r\n    },\r\n\r\n    startOrStop(row) {\r\n\r\n      if(row.username === 'admin') {\r\n        this.$message.error('超级管理员账号不允许操作')\r\n        return\r\n      }\r\n\r\n      // 弹出提示框\r\n      this.$confirm('是否确认修改员工状态?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() =>{\r\n                // 数字1=true，数字0=false\r\n          const params = {\r\n            id: row.id,\r\n            status: !row.status ? 1 : 0\r\n            // status: row.status === 1 ? 0 : 1\r\n          }\r\n\r\n          startOrStopEmployee(params).then(res => {\r\n            if (res.data.code === 1) {\r\n              this.$message.success('员工状态修改成功')\r\n              this.pageQuery()\r\n            }\r\n          }).catch(err => {\r\n            this.$message.error('请求失败' + err.message)\r\n          })\r\n        }).catch(() => {\r\n          this.$message.info('已取消修改')\r\n        })\r\n\r\n\r\n    },\r\n\r\n    // 添加员工\r\n    handleAddEmp() {\r\n      // 路由跳转页面\r\n      this.$router.push('/employee/add')\r\n    },\r\n    updateEmp(row) {\r\n\r\n      if(row.username === 'admin') {\r\n        this.$message.error('超级管理员账号不允许操作')\r\n        return\r\n      }\r\n\r\n      // 跳转同时传参，通过地址栏传参\r\n      this.$router.push(\r\n        {\r\n          path: '/employee/add',\r\n          query: {\r\n            id: row.id\r\n          }\r\n        }\r\n      )\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}