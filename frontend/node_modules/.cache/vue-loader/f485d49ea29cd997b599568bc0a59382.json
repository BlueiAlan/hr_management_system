{"remainingRequest":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\salary\\salaryItemsInfo.vue?vue&type=style&index=0&id=760c56b9&scoped=true&lang=scss&","dependencies":[{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\salary\\salaryItemsInfo.vue","mtime":1762147572998},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.addBrand {\n  &-container {\n    margin: 30px;\n    margin-top: 30px;\n    .HeadLable {\n      background-color: transparent;\n      margin-bottom: 0px;\n      padding-left: 0px;\n    }\n    .container {\n      position: relative;\n      z-index: 1;\n      background: #fff;\n      padding: 30px;\n      border-radius: 4px;\n      // min-height: 500px;\n      .subBox {\n        padding-top: 30px;\n        text-align: center;\n        border-top: solid 1px $gray-5;\n      }\n    }\n    .idNumber {\n      margin-bottom: 39px;\n    }\n\n    .el-form-item {\n      margin-bottom: 29px;\n    }\n    .el-input {\n      width: 293px;\n    }\n  }\n}\n\n.button1{\n  background-color: #409EFF !important;\n  border-color: #409EFF !important;\n  color: #FFFFFF !important;\n}\n.button1:hover {\n  background-color: #66b1ff !important;\n  border-color: #66b1ff !important;\n  color: #FFFFFF !important;\n}\n.button2.el-button--danger {\n  // 确保按钮保持plain样式\n  background-color: transparent !important;\n  color: #F56C6C !important;\n  border-color: #F56C6C !important;\n}\n\n.button2:hover {\n  background-color: #fef0f0 !important;\n  border-color: #F56C6C !important;\n  color: #F56C6C !important;\n}\n.button2:active, .button2:hover {\n  background-color: transparent !important;\n  color: #F56C6C !important;\n  border-color: #F56C6C !important;\n  outline: none !important;\n  box-shadow: none !important;\n}\n.example-text {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 5px;\n}\n\n\n\n\n",{"version":3,"sources":["salaryItemsInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"salaryItemsInfo.vue","sourceRoot":"src/views/salary","sourcesContent":["<script lang=\"ts\">\nimport { addSalaryItem, queryById, updateSalaryItem, deleteSalaryItem } from '@/api/salaryItems'\n\nexport default {\n  data() {\n    return {\n      ruleForm: {\n        itemName: '',\n        itemType: '',\n        calculationRule: '',\n        isActive: 1\n      },\n      rules: {\n        itemName: [\n          { required: true, message: '请输入薪酬名称', trigger: 'blur' },\n          // { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n        ],\n        itemType: [\n          { required: true, message: '请选择薪酬类型', trigger: 'change', validator: (rule,value,callback) => {\n              if (value === '收入' || value === '扣除') {\n                callback()\n              } else {\n                callback(new Error('请选择薪酬类型'))\n              }\n            } },\n        ],\n        calculationRule: [\n          { required: false, message: '请填写计算规则'}\n        ]\n      },\n      // 添加一个对象来存储从服务器获取的机构列表\n      orgList: [],\n      optType: '',\n    };\n  },\n\n  created() {\n    this.optType = this.$route.query.id ? 'edit' : 'add';\n    if (this.optType === 'edit') {\n      const id = this.$route.query.id\n      queryById(id).then((response) => {\n        if (response.data.code == 200) {\n          this.ruleForm.itemName = response.data.data.itemName;\n          this.ruleForm.itemType = response.data.data.itemType;\n          this.ruleForm.calculationRule = response.data.data.calculationRule;\n          this.ruleForm.isActive = response.data.data.isActive;\n        } else {\n          this.$message.error('获取薪酬项详情失败')\n        }\n      })\n    }\n  },\n\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          const params = {\n            id: null,\n            itemName: this.ruleForm.itemName,\n            itemType: this.ruleForm.itemType,\n            calculationRule: this.ruleForm.calculationRule,\n            isActive: this.ruleForm.isActive,\n          }\n          if (this.optType === 'edit') {\n            params.id = this.$route.query.id\n            updateSalaryItem(params).then((response) => {\n              if (response.data.code == 200) {\n                this.$message.success('更新薪酬项成功');\n                this.$router.push({ path: '/salaryItems' });\n              } else {\n                this.$message.error('更新薪酬项失败');\n              }\n            })\n          }else {\n            addSalaryItem(params).then((response) => {\n              if (response.data.code == 200) {\n                this.$message.success('创建薪酬项成功');\n                this.$router.push({path: '/salaryItems'});\n              } else {\n                this.$message.error('创建薪酬项失败');\n              }\n            })\n          }} else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n\n<template>\n  <div class=\"addBrand-container\">\n    <div class=\"container\">\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"薪资名称\" prop=\"itemName\">\n          <el-input v-model=\"ruleForm.itemName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"薪酬类型\" prop=\"itemType\">\n          <el-select v-model=\"ruleForm.itemType\" placeholder=\"请选择薪酬类型\">\n            <el-option label=\"收入\" value=\"收入\"></el-option>\n            <el-option label=\"扣除\" value=\"扣除\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"计算规则\" prop=\"calculationRule\" placeholder=\"按照示例填写计算规则\">\n          <el-input type=\"textarea\" v-model=\"ruleForm.calculationRule\" style=\"width: 293px;\"></el-input>\n          <div class=\"example-text\">示例：基本工资 * 2% + 3</div>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            v-if=\"this.optType == 'add'\"\n            class=\"button1\" type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\n          <el-button\n            v-if=\"this.optType == 'edit'\"\n            class=\"button1\" type=\"primary\" @click=\"submitForm('ruleForm')\">保存修改</el-button>\n          <el-button class=\"button2\" type=\"danger\" plain @click=\"resetForm('ruleForm')\">重置</el-button>\n          <el-button  @click=\"() => this.$router.push({ path: '/salaryItems' })\">返回</el-button>\n        </el-form-item>\n      </el-form>\n\n    </div>\n\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.addBrand {\n  &-container {\n    margin: 30px;\n    margin-top: 30px;\n    .HeadLable {\n      background-color: transparent;\n      margin-bottom: 0px;\n      padding-left: 0px;\n    }\n    .container {\n      position: relative;\n      z-index: 1;\n      background: #fff;\n      padding: 30px;\n      border-radius: 4px;\n      // min-height: 500px;\n      .subBox {\n        padding-top: 30px;\n        text-align: center;\n        border-top: solid 1px $gray-5;\n      }\n    }\n    .idNumber {\n      margin-bottom: 39px;\n    }\n\n    .el-form-item {\n      margin-bottom: 29px;\n    }\n    .el-input {\n      width: 293px;\n    }\n  }\n}\n\n.button1{\n  background-color: #409EFF !important;\n  border-color: #409EFF !important;\n  color: #FFFFFF !important;\n}\n.button1:hover {\n  background-color: #66b1ff !important;\n  border-color: #66b1ff !important;\n  color: #FFFFFF !important;\n}\n.button2.el-button--danger {\n  // 确保按钮保持plain样式\n  background-color: transparent !important;\n  color: #F56C6C !important;\n  border-color: #F56C6C !important;\n}\n\n.button2:hover {\n  background-color: #fef0f0 !important;\n  border-color: #F56C6C !important;\n  color: #F56C6C !important;\n}\n.button2:active, .button2:hover {\n  background-color: transparent !important;\n  color: #F56C6C !important;\n  border-color: #F56C6C !important;\n  outline: none !important;\n  box-shadow: none !important;\n}\n.example-text {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 5px;\n}\n\n\n\n\n</style>\n"]}]}