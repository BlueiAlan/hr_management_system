{"remainingRequest":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\ts-loader\\index.js??ref--14-2!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\organizations\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\organizations\\index.vue","mtime":1762104337485},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _organizations = require(\"@/api/organizations\");\n\nvar _default = {\n  data: function data() {\n    return {\n      orgLevel: this.$route.params.orgLevel,\n      orgName: '',\n      parentId: null,\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      totalPage: 0,\n      records: [],\n      searchTimer: null\n    };\n  },\n  created: function created() {\n    // if (this.$route.query.orgLevel === '1') {\n    //   this.orgLevel = 1;\n    // } else if (this.$route.query.orgLevel === '2') {\n    //   this.orgLevel = 2;\n    // } else if (this.$route.query.orgLevel === '3') {\n    //   this.orgLevel = 3;\n    // }\n    this.queryPage();\n  },\n  methods: {\n    queryPage: function queryPage() {\n      var _this = this;\n\n      // 构建查询参数\n      var params = {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize,\n        orgLevel: this.orgLevel,\n        orgName: this.orgName\n      };\n      console.log(params);\n      (0, _organizations.getPage)(params).then(function (res) {\n        if (res.data.code == 200) {\n          _this.records = res.data.data.records;\n          _this.total = res.data.data.total;\n          _this.totalPage = res.data.data.totalPage;\n        }\n      }).catch(function (err) {\n        _this.$message.error(\"请求异常，请联系管理员\");\n      });\n    },\n    // 处理输入事件，添加防抖\n    handleInput: function handleInput() {\n      var _this2 = this;\n\n      // 清除之前的定时器\n      if (this.searchTimer) {\n        clearTimeout(this.searchTimer);\n      } // 设置新的定时器，延迟300毫秒执行查询\n\n\n      this.searchTimer = setTimeout(function () {\n        _this2.pageNum = 1; // 重置为第一页\n\n        _this2.queryPage();\n      }, 300);\n    },\n    // 处理分页大小变化\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.queryPage();\n    },\n    // 处理当前页变化\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.pageNum = val;\n      this.queryPage();\n    },\n    // 编辑操作\n    handleEdit: function handleEdit(index, row) {\n      this.$router.push({\n        name: 'organizationInfo',\n        params: {\n          id: row.id,\n          orgLevel: this.orgLevel\n        }\n      });\n    },\n    handleAddOrg: function handleAddOrg() {\n      this.$router.push({\n        name: 'organizationInfo',\n        params: {\n          id: null,\n          orgLevel: this.orgLevel\n        }\n      });\n    }\n  },\n  // 组件销毁时清除定时器\n  beforeDestroy: function beforeDestroy() {\n    if (this.searchTimer) {\n      clearTimeout(this.searchTimer);\n    }\n  },\n  computed: {\n    pageTitle: function pageTitle() {\n      var title = null;\n\n      switch (this.$route.params.orgLevel) {\n        case '1':\n          title = '一级机构';\n          break;\n\n        case '2':\n          title = '二级机构';\n          break;\n\n        case '3':\n          title = '三级机构';\n          break;\n      }\n\n      return title;\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study_tool_from_D\\project\\hr_manage\\frontend\\src\\views\\organizations\\index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\nimport { getPage } from '@/api/organizations'\n\n  export default {\n    data() {\n      return {\n        orgLevel: this.$route.params.orgLevel,\n        orgName: '',\n        parentId: null,\n        pageNum: 1,\n        pageSize: 10,\n        total: 0, // 总记录数\n        totalPage: 0, // 总页数\n        records: [],\n        searchTimer: null, // 防抖定时器\n      }\n    },\n    created() {\n      // if (this.$route.query.orgLevel === '1') {\n      //   this.orgLevel = 1;\n      // } else if (this.$route.query.orgLevel === '2') {\n      //   this.orgLevel = 2;\n      // } else if (this.$route.query.orgLevel === '3') {\n      //   this.orgLevel = 3;\n      // }\n      this.queryPage();\n    },\n    methods: {\n      queryPage(){\n        // 构建查询参数\n        const params = {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          orgLevel: this.orgLevel,\n          orgName: this.orgName,\n        }\n        console.log(params)\n        getPage(params).then(res => {\n          if (res.data.code == 200) {\n            this.records = res.data.data.records;\n            this.total = res.data.data.total;\n            this.totalPage = res.data.data.totalPage;\n          }\n        }).catch(err => {\n          this.$message.error(\"请求异常，请联系管理员\")\n        })\n      },\n      // 处理输入事件，添加防抖\n      handleInput() {\n        // 清除之前的定时器\n        if (this.searchTimer) {\n          clearTimeout(this.searchTimer);\n        }\n        // 设置新的定时器，延迟300毫秒执行查询\n        this.searchTimer = setTimeout(() => {\n          this.pageNum = 1; // 重置为第一页\n          this.queryPage();\n        }, 300);\n      },\n      // 处理分页大小变化\n      handleSizeChange(val) {\n        this.pageSize = val;\n        this.queryPage();\n      },\n      // 处理当前页变化\n      handleCurrentChange(val) {\n        this.pageNum = val;\n        this.queryPage();\n      },\n      // 编辑操作\n      handleEdit(index, row) {\n        this.$router.push({\n          name: 'organizationInfo',\n          params: {\n            id: row.id,\n            orgLevel: this.orgLevel,\n          }\n        })\n      },\n      handleAddOrg() {\n        this.$router.push({\n          name: 'organizationInfo',\n          params: {\n            id: null,\n            orgLevel: this.orgLevel,\n          }\n        });\n      }\n    },\n    // 组件销毁时清除定时器\n    beforeDestroy() {\n      if (this.searchTimer) {\n        clearTimeout(this.searchTimer);\n      }\n    },\n    computed: {\n      pageTitle() {\n        let title = null;\n        switch (this.$route.params.orgLevel) {\n          case '1':\n            title = '一级机构';\n            break;\n          case '2':\n            title = '二级机构';\n            break;\n          case '3':\n            title = '三级机构';\n            break;\n        }\n        return title;\n      }\n    }\n  }\n"],"sourceRoot":""}]}